<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>虚拟 DOM 原理</title>
  <link rel="stylesheet" href="./惠惠惠的个人知识库.css">
</head>
<body> 
<div class="bar">
   <div class="logo-container">
    <a class="logo">惠惠惠的个人知识库</a>
  </div> 
  </div>
<div class="container">
  <div class="catalog">
    <div class="node"><a href="React_Hooks_基础.html">React Hooks 基础</a></div><div class="node"><a href="CSS_Flexbox_布局.html">CSS Flexbox 布局</a></div><div class="node"><a href="JavaScript_闭包.html">JavaScript 闭包</a></div><div class="node"><a href="TypeScript_类型系统.html">TypeScript 类型系统</a></div><div class="node"><a href="Vue_响应式原理.html">Vue 响应式原理</a></div><div class="node"><a href="Webpack_打包原理.html">Webpack 打包原理</a></div><div class="node"><a href="ES6_模块化.html">ES6 模块化</a></div><div class="node"><a href="浏览器事件循环.html">浏览器事件循环</a></div><div class="node"><a href="HTTP_协议基础.html">HTTP 协议基础</a></div><div class="node"><a href="前端性能优化.html">前端性能优化</a></div><div class="node active"><a href="虚拟_DOM_原理.html">虚拟 DOM 原理</a></div><div class="node"><a href="跨域问题解决方案.html">跨域问题解决方案</a></div><div class="node"><a href="前端路由实现.html">前端路由实现</a></div><div class="node"><a href="状态管理方案.html">状态管理方案</a></div><div class="node"><a href="前端安全防护.html">前端安全防护</a></div><div class="node"><a href="CSS_Grid_布局.html">CSS Grid 布局</a></div><div class="node"><a href="Promise_和异步编程.html">Promise 和异步编程</a></div><div class="node"><a href="JavaScript_原型链.html">JavaScript 原型链</a></div><div class="node"><a href="防抖和节流.html">防抖和节流</a></div><div class="node"><a href="CSS_变量_Custom_Properties.html">CSS 变量（Custom Properties）</a></div><div class="node"><a href="React_组件生命周期.html">React 组件生命周期</a></div><div class="node"><a href="Vue_组件通信.html">Vue 组件通信</a></div><div class="node"><a href="Babel_转译原理.html">Babel 转译原理</a></div><div class="node"><a href="ESLint_代码检查.html">ESLint 代码检查</a></div><div class="node"><a href="Git_工作流.html">Git 工作流</a></div><div class="node"><a href="CSS_Grid_布局_2.html">CSS Grid 布局 (2)</a></div><div class="node"><a href="Promise_和异步编程_2.html">Promise 和异步编程 (2)</a></div><div class="node"><a href="JavaScript_原型链_2.html">JavaScript 原型链 (2)</a></div><div class="node"><a href="防抖和节流_2.html">防抖和节流 (2)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_2.html">CSS 变量（Custom Properties） (2)</a></div><div class="node"><a href="React_组件生命周期_2.html">React 组件生命周期 (2)</a></div><div class="node"><a href="Vue_组件通信_2.html">Vue 组件通信 (2)</a></div><div class="node"><a href="Babel_转译原理_2.html">Babel 转译原理 (2)</a></div><div class="node"><a href="ESLint_代码检查_2.html">ESLint 代码检查 (2)</a></div><div class="node"><a href="Git_工作流_2.html">Git 工作流 (2)</a></div><div class="node"><a href="CSS_Grid_布局_3.html">CSS Grid 布局 (3)</a></div><div class="node"><a href="Promise_和异步编程_3.html">Promise 和异步编程 (3)</a></div><div class="node"><a href="JavaScript_原型链_3.html">JavaScript 原型链 (3)</a></div><div class="node"><a href="防抖和节流_3.html">防抖和节流 (3)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_3.html">CSS 变量（Custom Properties） (3)</a></div><div class="node"><a href="React_组件生命周期_3.html">React 组件生命周期 (3)</a></div><div class="node"><a href="Vue_组件通信_3.html">Vue 组件通信 (3)</a></div><div class="node"><a href="Babel_转译原理_3.html">Babel 转译原理 (3)</a></div><div class="node"><a href="ESLint_代码检查_3.html">ESLint 代码检查 (3)</a></div><div class="node"><a href="Git_工作流_3.html">Git 工作流 (3)</a></div><div class="node"><a href="CSS_Grid_布局_4.html">CSS Grid 布局 (4)</a></div><div class="node"><a href="Promise_和异步编程_4.html">Promise 和异步编程 (4)</a></div><div class="node"><a href="JavaScript_原型链_4.html">JavaScript 原型链 (4)</a></div><div class="node"><a href="防抖和节流_4.html">防抖和节流 (4)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_4.html">CSS 变量（Custom Properties） (4)</a></div><div class="node"><a href="React_组件生命周期_4.html">React 组件生命周期 (4)</a></div><div class="node"><a href="Vue_组件通信_4.html">Vue 组件通信 (4)</a></div><div class="node"><a href="Babel_转译原理_4.html">Babel 转译原理 (4)</a></div><div class="node"><a href="ESLint_代码检查_4.html">ESLint 代码检查 (4)</a></div><div class="node"><a href="Git_工作流_4.html">Git 工作流 (4)</a></div><div class="node"><a href="CSS_Grid_布局_5.html">CSS Grid 布局 (5)</a></div><div class="node"><a href="Promise_和异步编程_5.html">Promise 和异步编程 (5)</a></div><div class="node"><a href="JavaScript_原型链_5.html">JavaScript 原型链 (5)</a></div><div class="node"><a href="防抖和节流_5.html">防抖和节流 (5)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_5.html">CSS 变量（Custom Properties） (5)</a></div><div class="node"><a href="React_组件生命周期_5.html">React 组件生命周期 (5)</a></div><div class="node"><a href="Vue_组件通信_5.html">Vue 组件通信 (5)</a></div><div class="node"><a href="Babel_转译原理_5.html">Babel 转译原理 (5)</a></div><div class="node"><a href="ESLint_代码检查_5.html">ESLint 代码检查 (5)</a></div><div class="node"><a href="Git_工作流_5.html">Git 工作流 (5)</a></div><div class="node"><a href="CSS_Grid_布局_6.html">CSS Grid 布局 (6)</a></div><div class="node"><a href="Promise_和异步编程_6.html">Promise 和异步编程 (6)</a></div><div class="node"><a href="JavaScript_原型链_6.html">JavaScript 原型链 (6)</a></div><div class="node"><a href="防抖和节流_6.html">防抖和节流 (6)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_6.html">CSS 变量（Custom Properties） (6)</a></div><div class="node"><a href="React_组件生命周期_6.html">React 组件生命周期 (6)</a></div><div class="node"><a href="Vue_组件通信_6.html">Vue 组件通信 (6)</a></div><div class="node"><a href="Babel_转译原理_6.html">Babel 转译原理 (6)</a></div><div class="node"><a href="ESLint_代码检查_6.html">ESLint 代码检查 (6)</a></div><div class="node"><a href="Git_工作流_6.html">Git 工作流 (6)</a></div><div class="node"><a href="CSS_Grid_布局_7.html">CSS Grid 布局 (7)</a></div><div class="node"><a href="Promise_和异步编程_7.html">Promise 和异步编程 (7)</a></div><div class="node"><a href="JavaScript_原型链_7.html">JavaScript 原型链 (7)</a></div><div class="node"><a href="防抖和节流_7.html">防抖和节流 (7)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_7.html">CSS 变量（Custom Properties） (7)</a></div><div class="node"><a href="React_组件生命周期_7.html">React 组件生命周期 (7)</a></div><div class="node"><a href="Vue_组件通信_7.html">Vue 组件通信 (7)</a></div><div class="node"><a href="Babel_转译原理_7.html">Babel 转译原理 (7)</a></div><div class="node"><a href="ESLint_代码检查_7.html">ESLint 代码检查 (7)</a></div><div class="node"><a href="Git_工作流_7.html">Git 工作流 (7)</a></div><div class="node"><a href="CSS_Grid_布局_8.html">CSS Grid 布局 (8)</a></div><div class="node"><a href="Promise_和异步编程_8.html">Promise 和异步编程 (8)</a></div><div class="node"><a href="JavaScript_原型链_8.html">JavaScript 原型链 (8)</a></div><div class="node"><a href="防抖和节流_8.html">防抖和节流 (8)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_8.html">CSS 变量（Custom Properties） (8)</a></div><div class="node"><a href="React_组件生命周期_8.html">React 组件生命周期 (8)</a></div><div class="node"><a href="Vue_组件通信_8.html">Vue 组件通信 (8)</a></div><div class="node"><a href="Babel_转译原理_8.html">Babel 转译原理 (8)</a></div><div class="node"><a href="ESLint_代码检查_8.html">ESLint 代码检查 (8)</a></div><div class="node"><a href="Git_工作流_8.html">Git 工作流 (8)</a></div><div class="node"><a href="CSS_Grid_布局_9.html">CSS Grid 布局 (9)</a></div><div class="node"><a href="Promise_和异步编程_9.html">Promise 和异步编程 (9)</a></div><div class="node"><a href="JavaScript_原型链_9.html">JavaScript 原型链 (9)</a></div><div class="node"><a href="防抖和节流_9.html">防抖和节流 (9)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_9.html">CSS 变量（Custom Properties） (9)</a></div>
  </div>
  <div class="content">
    <div class="content-display-area">
      <h1>虚拟 DOM 原理</h1>
      <div class="content-main">
        <h2>虚拟 DOM 原理</h2><p>虚拟 DOM（Virtual DOM）是真实 DOM 的 JavaScript 对象表示。它是 React、Vue 等框架的核心概念，通过对比虚拟 DOM 的变化来最小化真实 DOM 的操作。</p><h3>工作原理</h3>
<ul><li><strong>创建虚拟 DOM 树</strong>: 将 JSX/模板转换为虚拟 DOM 对象树</li></ul>
<ul><li><strong>状态变化</strong>: 当组件状态或 props 改变时，生成新的虚拟 DOM 树</li></ul>
<ul><li><strong>Diff 算法</strong>: 对比新旧虚拟 DOM 树，找出差异（diff）</li></ul>
<ul><li><strong>批量更新</strong>: 将差异应用到真实 DOM 上，批量执行更新操作</li></ul><h3>虚拟 DOM 结构</h3>
<pre><code>// 虚拟 DOM 节点示例</p>
<p>{</p>
<p>  type: &#039;div&#039;,</p>
<p>  props: {</p>
<p>    className: &#039;container&#039;,</p>
<p>    children: [</p>
<p>      { type: &#039;h1&#039;, props: { children: &#039;Hello&#039; } },</p>
<p>      { type: &#039;p&#039;, props: { children: &#039;World&#039; } }</p>
<p>    ]</p>
<p>  }</p>
<p>}</code></pre><h3>优势</h3>
<ul><li><strong>性能提升</strong>: 减少直接操作 DOM 的次数，批量更新</li></ul>
<ul><li><strong>跨平台能力</strong>: 虚拟 DOM 可以渲染到不同平台（Web、Native、Canvas）</li></ul>
<ul><li><strong>简化操作</strong>: 声明式编程，不需要手动操作 DOM</li></ul>
<ul><li><strong>更好的开发体验</strong>: 可以像操作普通对象一样操作虚拟 DOM</li></ul><h3>Diff 算法策略</h3>
<ul><li><strong>同层比较</strong>: 只比较同一层级的节点，不跨层级比较</li></ul>
<ul><li><strong>key 值优化</strong>: 使用 key 来识别节点，提高 diff 效率</li></ul>
<ul><li><strong>组件类型判断</strong>: 如果组件类型不同，直接替换整个子树</li></ul>
<ul><li><strong>列表 diff</strong>: 通过 key 和索引来优化列表的 diff 过程</li></ul><h3>React Fiber</h3>
<p>React 16 引入 Fiber 架构，将 diff 过程拆分成多个小任务，可以中断和恢复，实现增量渲染，提高用户体验。</p><h3>注意事项</h3>
<ul><li>虚拟 DOM 不是银弹，在某些场景下直接操作 DOM 可能更快</li></ul>
<ul><li>key 值应该稳定且唯一，不要使用索引作为 key（列表会变化时）</li></ul>
<ul><li>过度使用虚拟 DOM 可能带来性能开销</li></ul>
      </div>
    </div>
  </div>
</div>
<script src="知识库.js"></script>
</body>
</html>