<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>前端路由实现</title>
  <link rel="stylesheet" href="./惠惠惠的个人知识库.css">
</head>
<body> 
<div class="bar">
   <div class="logo-container">
    <a class="logo">惠惠惠的个人知识库</a>
  </div> 
  </div>
<div class="container">
  <div class="catalog">
    <div class="node"><a href="React_Hooks_基础.html">React Hooks 基础</a></div><div class="node"><a href="CSS_Flexbox_布局.html">CSS Flexbox 布局</a></div><div class="node"><a href="JavaScript_闭包.html">JavaScript 闭包</a></div><div class="node"><a href="TypeScript_类型系统.html">TypeScript 类型系统</a></div><div class="node"><a href="Vue_响应式原理.html">Vue 响应式原理</a></div><div class="node"><a href="Webpack_打包原理.html">Webpack 打包原理</a></div><div class="node"><a href="ES6_模块化.html">ES6 模块化</a></div><div class="node"><a href="浏览器事件循环.html">浏览器事件循环</a></div><div class="node"><a href="HTTP_协议基础.html">HTTP 协议基础</a></div><div class="node"><a href="前端性能优化.html">前端性能优化</a></div><div class="node"><a href="虚拟_DOM_原理.html">虚拟 DOM 原理</a></div><div class="node"><a href="跨域问题解决方案.html">跨域问题解决方案</a></div><div class="node active"><a href="前端路由实现.html">前端路由实现</a></div><div class="node"><a href="状态管理方案.html">状态管理方案</a></div><div class="node"><a href="前端安全防护.html">前端安全防护</a></div><div class="node"><a href="CSS_Grid_布局.html">CSS Grid 布局</a></div><div class="node"><a href="Promise_和异步编程.html">Promise 和异步编程</a></div><div class="node"><a href="JavaScript_原型链.html">JavaScript 原型链</a></div><div class="node"><a href="防抖和节流.html">防抖和节流</a></div><div class="node"><a href="CSS_变量_Custom_Properties.html">CSS 变量（Custom Properties）</a></div><div class="node"><a href="React_组件生命周期.html">React 组件生命周期</a></div><div class="node"><a href="Vue_组件通信.html">Vue 组件通信</a></div><div class="node"><a href="Babel_转译原理.html">Babel 转译原理</a></div><div class="node"><a href="ESLint_代码检查.html">ESLint 代码检查</a></div><div class="node"><a href="Git_工作流.html">Git 工作流</a></div><div class="node"><a href="CSS_Grid_布局_2.html">CSS Grid 布局 (2)</a></div><div class="node"><a href="Promise_和异步编程_2.html">Promise 和异步编程 (2)</a></div><div class="node"><a href="JavaScript_原型链_2.html">JavaScript 原型链 (2)</a></div><div class="node"><a href="防抖和节流_2.html">防抖和节流 (2)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_2.html">CSS 变量（Custom Properties） (2)</a></div><div class="node"><a href="React_组件生命周期_2.html">React 组件生命周期 (2)</a></div><div class="node"><a href="Vue_组件通信_2.html">Vue 组件通信 (2)</a></div><div class="node"><a href="Babel_转译原理_2.html">Babel 转译原理 (2)</a></div><div class="node"><a href="ESLint_代码检查_2.html">ESLint 代码检查 (2)</a></div><div class="node"><a href="Git_工作流_2.html">Git 工作流 (2)</a></div><div class="node"><a href="CSS_Grid_布局_3.html">CSS Grid 布局 (3)</a></div><div class="node"><a href="Promise_和异步编程_3.html">Promise 和异步编程 (3)</a></div><div class="node"><a href="JavaScript_原型链_3.html">JavaScript 原型链 (3)</a></div><div class="node"><a href="防抖和节流_3.html">防抖和节流 (3)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_3.html">CSS 变量（Custom Properties） (3)</a></div><div class="node"><a href="React_组件生命周期_3.html">React 组件生命周期 (3)</a></div><div class="node"><a href="Vue_组件通信_3.html">Vue 组件通信 (3)</a></div><div class="node"><a href="Babel_转译原理_3.html">Babel 转译原理 (3)</a></div><div class="node"><a href="ESLint_代码检查_3.html">ESLint 代码检查 (3)</a></div><div class="node"><a href="Git_工作流_3.html">Git 工作流 (3)</a></div><div class="node"><a href="CSS_Grid_布局_4.html">CSS Grid 布局 (4)</a></div><div class="node"><a href="Promise_和异步编程_4.html">Promise 和异步编程 (4)</a></div><div class="node"><a href="JavaScript_原型链_4.html">JavaScript 原型链 (4)</a></div><div class="node"><a href="防抖和节流_4.html">防抖和节流 (4)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_4.html">CSS 变量（Custom Properties） (4)</a></div><div class="node"><a href="React_组件生命周期_4.html">React 组件生命周期 (4)</a></div><div class="node"><a href="Vue_组件通信_4.html">Vue 组件通信 (4)</a></div><div class="node"><a href="Babel_转译原理_4.html">Babel 转译原理 (4)</a></div><div class="node"><a href="ESLint_代码检查_4.html">ESLint 代码检查 (4)</a></div><div class="node"><a href="Git_工作流_4.html">Git 工作流 (4)</a></div><div class="node"><a href="CSS_Grid_布局_5.html">CSS Grid 布局 (5)</a></div><div class="node"><a href="Promise_和异步编程_5.html">Promise 和异步编程 (5)</a></div><div class="node"><a href="JavaScript_原型链_5.html">JavaScript 原型链 (5)</a></div><div class="node"><a href="防抖和节流_5.html">防抖和节流 (5)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_5.html">CSS 变量（Custom Properties） (5)</a></div><div class="node"><a href="React_组件生命周期_5.html">React 组件生命周期 (5)</a></div><div class="node"><a href="Vue_组件通信_5.html">Vue 组件通信 (5)</a></div><div class="node"><a href="Babel_转译原理_5.html">Babel 转译原理 (5)</a></div><div class="node"><a href="ESLint_代码检查_5.html">ESLint 代码检查 (5)</a></div><div class="node"><a href="Git_工作流_5.html">Git 工作流 (5)</a></div><div class="node"><a href="CSS_Grid_布局_6.html">CSS Grid 布局 (6)</a></div><div class="node"><a href="Promise_和异步编程_6.html">Promise 和异步编程 (6)</a></div><div class="node"><a href="JavaScript_原型链_6.html">JavaScript 原型链 (6)</a></div><div class="node"><a href="防抖和节流_6.html">防抖和节流 (6)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_6.html">CSS 变量（Custom Properties） (6)</a></div><div class="node"><a href="React_组件生命周期_6.html">React 组件生命周期 (6)</a></div><div class="node"><a href="Vue_组件通信_6.html">Vue 组件通信 (6)</a></div><div class="node"><a href="Babel_转译原理_6.html">Babel 转译原理 (6)</a></div><div class="node"><a href="ESLint_代码检查_6.html">ESLint 代码检查 (6)</a></div><div class="node"><a href="Git_工作流_6.html">Git 工作流 (6)</a></div><div class="node"><a href="CSS_Grid_布局_7.html">CSS Grid 布局 (7)</a></div><div class="node"><a href="Promise_和异步编程_7.html">Promise 和异步编程 (7)</a></div><div class="node"><a href="JavaScript_原型链_7.html">JavaScript 原型链 (7)</a></div><div class="node"><a href="防抖和节流_7.html">防抖和节流 (7)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_7.html">CSS 变量（Custom Properties） (7)</a></div><div class="node"><a href="React_组件生命周期_7.html">React 组件生命周期 (7)</a></div><div class="node"><a href="Vue_组件通信_7.html">Vue 组件通信 (7)</a></div><div class="node"><a href="Babel_转译原理_7.html">Babel 转译原理 (7)</a></div><div class="node"><a href="ESLint_代码检查_7.html">ESLint 代码检查 (7)</a></div><div class="node"><a href="Git_工作流_7.html">Git 工作流 (7)</a></div><div class="node"><a href="CSS_Grid_布局_8.html">CSS Grid 布局 (8)</a></div><div class="node"><a href="Promise_和异步编程_8.html">Promise 和异步编程 (8)</a></div><div class="node"><a href="JavaScript_原型链_8.html">JavaScript 原型链 (8)</a></div><div class="node"><a href="防抖和节流_8.html">防抖和节流 (8)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_8.html">CSS 变量（Custom Properties） (8)</a></div><div class="node"><a href="React_组件生命周期_8.html">React 组件生命周期 (8)</a></div><div class="node"><a href="Vue_组件通信_8.html">Vue 组件通信 (8)</a></div><div class="node"><a href="Babel_转译原理_8.html">Babel 转译原理 (8)</a></div><div class="node"><a href="ESLint_代码检查_8.html">ESLint 代码检查 (8)</a></div><div class="node"><a href="Git_工作流_8.html">Git 工作流 (8)</a></div><div class="node"><a href="CSS_Grid_布局_9.html">CSS Grid 布局 (9)</a></div><div class="node"><a href="Promise_和异步编程_9.html">Promise 和异步编程 (9)</a></div><div class="node"><a href="JavaScript_原型链_9.html">JavaScript 原型链 (9)</a></div><div class="node"><a href="防抖和节流_9.html">防抖和节流 (9)</a></div><div class="node"><a href="CSS_变量_Custom_Properties_9.html">CSS 变量（Custom Properties） (9)</a></div>
  </div>
  <div class="content">
    <div class="content-display-area">
      <h1>前端路由实现</h1>
      <div class="content-main">
        <h2>前端路由实现</h2><p>前端路由通过改变 URL 而不刷新页面实现单页应用（SPA）的页面切换。它允许用户通过 URL 访问不同的视图，同时保持应用的流畅体验。</p><h3>实现方式</h3><h4>1. Hash 路由</h4>
<p>使用 URL 中的 <code>#</code> 符号（锚点）来实现路由：</p>
<pre><code>// 改变 hash</p>
<p>window.location.hash = &#039;/home&#039;;</p><p>// 监听 hash 变化</p>
<p>window.addEventListener(&#039;hashchange&#039;, () =&gt; {</p>
<p>  const hash = window.location.hash.slice(1);</p>
<p>  // 根据 hash 渲染对应组件</p>
<p>});</code></pre><p><strong>优点</strong>: </p>
<ul><li>兼容性好，支持所有浏览器</li></ul>
<ul><li>不需要服务器配置</li></ul>
<ul><li>不会向服务器发送请求</li></ul><p><strong>缺点</strong>: </p>
<ul><li>URL 中带有 <code>#</code>，不够美观</li></ul>
<ul><li>不支持 SEO</li></ul><h4>2. History 路由</h4>
<p>使用 HTML5 History API（pushState、replaceState）实现：</p>
<pre><code>// 改变 URL</p>
<p>history.pushState({}, &#039;&#039;, &#039;/home&#039;);</p><p>// 监听 popstate 事件（浏览器前进后退）</p>
<p>window.addEventListener(&#039;popstate&#039;, (e) =&gt; {</p>
<p>  const path = window.location.pathname;</p>
<p>  // 根据 path 渲染对应组件</p>
<p>});</p><p>// 拦截链接点击</p>
<p>window.addEventListener(&#039;click&#039;, (e) =&gt; {</p>
<p>  if (e.target.tagName === &#039;A&#039;) {</p>
<p>    e.preventDefault();</p>
<p>    history.pushState({}, &#039;&#039;, e.target.href);</p>
<p>  }</p>
<p>});</code></pre><p><strong>优点</strong>: </p>
<ul><li>URL 美观，没有 <code>#</code></li></ul>
<ul><li>支持 SEO（配合 SSR）</li></ul>
<ul><li>更符合 RESTful 规范</li></ul><p><strong>缺点</strong>: </p>
<ul><li>需要服务器配置（所有路由返回 index.html）</li></ul>
<ul><li>兼容性稍差（IE10+）</li></ul><h3>路由库</h3>
<ul><li><strong>React Router</strong>: React 生态最流行的路由库</li></ul>
<ul><li><strong>Vue Router</strong>: Vue.js 官方路由管理器</li></ul>
<ul><li><strong>Next.js Router</strong>: Next.js 框架内置的路由系统</li></ul>
<ul><li><strong>Reach Router</strong>: 另一个 React 路由库（已合并到 React Router）</li></ul><h3>路由功能</h3>
<ul><li><strong>嵌套路由</strong>: 支持多级路由嵌套</li></ul>
<ul><li><strong>路由参数</strong>: 动态路由 <code>/user/:id</code></li></ul>
<ul><li><strong>查询参数</strong>: <code>/search?q=keyword</code></li></ul>
<ul><li><strong>路由守卫</strong>: 权限控制、登录验证</li></ul>
<ul><li><strong>懒加载</strong>: 路由级别的代码分割</li></ul>
<ul><li><strong>路由动画</strong>: 页面切换动画</li></ul><h3>实现示例（简单版）</h3>
<pre><code>class Router {</p>
<p>  constructor() {</p>
<p>    this.routes = {};</p>
<p>    this.currentUrl = &#039;&#039;;</p>
<p>    this.init();</p>
<p>  }</p>

<p>  route(path, callback) {</p>
<p>    this.routes[path] = callback;</p>
<p>  }</p>

<p>  init() {</p>
<p>    window.addEventListener(&#039;load&#039;, this.refresh.bind(this));</p>
<p>    window.addEventListener(&#039;hashchange&#039;, this.refresh.bind(this));</p>
<p>  }</p>

<p>  refresh() {</p>
<p>    this.currentUrl = location.hash.slice(1) || &#039;/&#039;;</p>
<p>    this.routes[this.currentUrl] &amp;&amp; this.routes[this.currentUrl]();</p>
<p>  }</p>
<p>}</code></pre>
      </div>
    </div>
  </div>
</div>
<script src="知识库.js"></script>
</body>
</html>