<!DOCTYPE html>
    <html lang="zh-CN">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>前端路由实现</title>
      <link rel="stylesheet" href="./惠惠惠的个人知识库.css">
    </head>
    <body> 
    <div class="bar">
       <div class="logo-container">
        <a class="logo">惠惠惠的个人知识库</a>
      </div> 
      </div>
    <div class="container">
      <div class="catalog">
        <div class="node"><a href="article_1.html">React Hooks 基础(我被修改了）</a></div><div class="node"><a href="article_2.html">CSS Flexbox 布局</a></div><div class="node"><a href="article_3.html">JavaScript 闭包</a></div><div class="node"><a href="article_4.html">TypeScript 类型系统</a></div><div class="node"><a href="article_5.html">Vue 响应式原理</a></div><div class="node"><a href="article_6.html">Webpack 打包原理</a></div><div class="node"><a href="article_7.html">ES6 模块化</a></div><div class="node"><a href="article_8.html">浏览器事件循环</a></div><div class="node"><a href="article_9.html">HTTP 协议基础</a></div><div class="node"><a href="article_10.html">前端性能优化</a></div><div class="node"><a href="article_11.html">虚拟 DOM 原理</a></div><div class="node"><a href="article_12.html">跨域问题解决方案</a></div><div class="node active"><a href="article_13.html">前端路由实现</a></div><div class="node"><a href="article_14.html">状态管理方案</a></div><div class="node"><a href="article_15.html">前端安全防护</a></div><div class="node"><a href="article_16.html">CSS Grid 布局</a></div><div class="node"><a href="article_17.html">Promise 和异步编程</a></div><div class="node"><a href="article_18.html">JavaScript 原型链</a></div><div class="node"><a href="article_19.html">防抖和节流</a></div><div class="node"><a href="article_20.html">CSS 变量（Custom Properties）</a></div><div class="node"><a href="article_21.html">React 组件生命周期</a></div><div class="node"><a href="article_22.html">Vue 组件通信</a></div><div class="node"><a href="article_23.html">Babel 转译原理</a></div><div class="node"><a href="article_24.html">ESLint 代码检查</a></div><div class="node"><a href="article_25.html">Git 工作流</a></div><div class="node"><a href="article_26.html">CSS Grid 布局 (2)</a></div><div class="node"><a href="article_27.html">Promise 和异步编程 (2)</a></div><div class="node"><a href="article_28.html">JavaScript 原型链 (2)</a></div><div class="node"><a href="article_29.html">防抖和节流 (2)</a></div><div class="node"><a href="article_30.html">CSS 变量（Custom Properties） (2)</a></div><div class="node"><a href="article_31.html">React 组件生命周期 (2)</a></div><div class="node"><a href="article_32.html">Vue 组件通信 (2)</a></div><div class="node"><a href="article_33.html">Babel 转译原理 (2)</a></div><div class="node"><a href="article_34.html">ESLint 代码检查 (2)</a></div><div class="node"><a href="article_35.html">Git 工作流 (2)</a></div><div class="node"><a href="article_36.html">CSS Grid 布局 (3)</a></div><div class="node"><a href="article_37.html">Promise 和异步编程 (3)</a></div><div class="node"><a href="article_38.html">JavaScript 原型链 (3)</a></div><div class="node"><a href="article_39.html">防抖和节流 (3)</a></div><div class="node"><a href="article_40.html">CSS 变量（Custom Properties） (3)</a></div><div class="node"><a href="article_41.html">React 组件生命周期 (3)</a></div><div class="node"><a href="article_42.html">Vue 组件通信 (3)</a></div><div class="node"><a href="article_43.html">Babel 转译原理 (3)</a></div><div class="node"><a href="article_44.html">ESLint 代码检查 (3)</a></div><div class="node"><a href="article_45.html">Git 工作流 (3)</a></div><div class="node"><a href="article_46.html">CSS Grid 布局 (4)</a></div><div class="node"><a href="article_47.html">Promise 和异步编程 (4)</a></div><div class="node"><a href="article_48.html">JavaScript 原型链 (4)</a></div><div class="node"><a href="article_49.html">防抖和节流 (4)</a></div><div class="node"><a href="article_50.html">CSS 变量（Custom Properties） (4)</a></div><div class="node"><a href="article_51.html">React 组件生命周期 (4)</a></div><div class="node"><a href="article_52.html">Vue 组件通信 (4)</a></div><div class="node"><a href="article_53.html">Babel 转译原理 (4)</a></div><div class="node"><a href="article_54.html">ESLint 代码检查 (4)</a></div><div class="node"><a href="article_55.html">Git 工作流 (4)</a></div><div class="node"><a href="article_56.html">CSS Grid 布局 (5)</a></div><div class="node"><a href="article_57.html">Promise 和异步编程 (5)</a></div><div class="node"><a href="article_58.html">JavaScript 原型链 (5)</a></div><div class="node"><a href="article_59.html">防抖和节流 (5)</a></div><div class="node"><a href="article_60.html">CSS 变量（Custom Properties） (5)</a></div><div class="node"><a href="article_61.html">React 组件生命周期 (5)</a></div><div class="node"><a href="article_62.html">Vue 组件通信 (5)</a></div><div class="node"><a href="article_63.html">Babel 转译原理 (5)</a></div><div class="node"><a href="article_64.html">ESLint 代码检查 (5)</a></div><div class="node"><a href="article_65.html">Git 工作流 (5)</a></div><div class="node"><a href="article_66.html">CSS Grid 布局 (6)</a></div><div class="node"><a href="article_67.html">Promise 和异步编程 (6)</a></div><div class="node"><a href="article_68.html">JavaScript 原型链 (6)</a></div><div class="node"><a href="article_69.html">防抖和节流 (6)</a></div><div class="node"><a href="article_70.html">CSS 变量（Custom Properties） (6)</a></div><div class="node"><a href="article_71.html">React 组件生命周期 (6)</a></div><div class="node"><a href="article_72.html">Vue 组件通信 (6)</a></div><div class="node"><a href="article_73.html">Babel 转译原理 (6)</a></div><div class="node"><a href="article_74.html">ESLint 代码检查 (6)</a></div><div class="node"><a href="article_75.html">Git 工作流 (6)</a></div><div class="node"><a href="article_76.html">CSS Grid 布局 (7)</a></div><div class="node"><a href="article_77.html">Promise 和异步编程 (7)</a></div><div class="node"><a href="article_78.html">JavaScript 原型链 (7)</a></div><div class="node"><a href="article_79.html">防抖和节流 (7)</a></div><div class="node"><a href="article_80.html">CSS 变量（Custom Properties） (7)</a></div><div class="node"><a href="article_81.html">React 组件生命周期 (7)</a></div><div class="node"><a href="article_82.html">Vue 组件通信 (7)</a></div><div class="node"><a href="article_83.html">Babel 转译原理 (7)</a></div><div class="node"><a href="article_84.html">ESLint 代码检查 (7)</a></div><div class="node"><a href="article_85.html">Git 工作流 (7)</a></div><div class="node"><a href="article_86.html">CSS Grid 布局 (8)</a></div><div class="node"><a href="article_87.html">Promise 和异步编程 (8)</a></div><div class="node"><a href="article_88.html">JavaScript 原型链 (8)</a></div><div class="node"><a href="article_89.html">防抖和节流 (8)</a></div><div class="node"><a href="article_90.html">CSS 变量（Custom Properties） (8)</a></div><div class="node"><a href="article_91.html">React 组件生命周期 (8)</a></div><div class="node"><a href="article_92.html">Vue 组件通信 (8)</a></div><div class="node"><a href="article_93.html">Babel 转译原理 (8)</a></div><div class="node"><a href="article_94.html">ESLint 代码检查 (8)</a></div><div class="node"><a href="article_95.html">Git 工作流 (8)</a></div><div class="node"><a href="article_96.html">CSS Grid 布局 (9)</a></div><div class="node"><a href="article_97.html">Promise 和异步编程 (9)</a></div><div class="node"><a href="article_98.html">JavaScript 原型链 (9)</a></div><div class="node"><a href="article_99.html">防抖和节流 (9)</a></div><div class="node"><a href="article_100.html">CSS 变量（Custom Properties） (9)</a></div>
      </div>
      <div class="content">
        <div class="content-display-area">
          <h1>前端路由实现</h1>
          <div class="content-main">
            <h2>前端路由实现</h2><p>前端路由通过改变 URL 而不刷新页面实现单页应用（SPA）的页面切换。它允许用户通过 URL 访问不同的视图，同时保持应用的流畅体验。</p><h3>实现方式</h3><h4>1. Hash 路由</h4>
<p>使用 URL 中的 <code>#</code> 符号（锚点）来实现路由：</p>
<pre><code>// 改变 hash</p>
<p>window.location.hash = &#039;/home&#039;;</p><p>// 监听 hash 变化</p>
<p>window.addEventListener(&#039;hashchange&#039;, () =&gt; {</p>
<p>  const hash = window.location.hash.slice(1);</p>
<p>  // 根据 hash 渲染对应组件</p>
<p>});</code></pre><p><strong>优点</strong>: </p>
<ul><li>兼容性好，支持所有浏览器</li></ul>
<ul><li>不需要服务器配置</li></ul>
<ul><li>不会向服务器发送请求</li></ul><p><strong>缺点</strong>: </p>
<ul><li>URL 中带有 <code>#</code>，不够美观</li></ul>
<ul><li>不支持 SEO</li></ul><h4>2. History 路由</h4>
<p>使用 HTML5 History API（pushState、replaceState）实现：</p>
<pre><code>// 改变 URL</p>
<p>history.pushState({}, &#039;&#039;, &#039;/home&#039;);</p><p>// 监听 popstate 事件（浏览器前进后退）</p>
<p>window.addEventListener(&#039;popstate&#039;, (e) =&gt; {</p>
<p>  const path = window.location.pathname;</p>
<p>  // 根据 path 渲染对应组件</p>
<p>});</p><p>// 拦截链接点击</p>
<p>window.addEventListener(&#039;click&#039;, (e) =&gt; {</p>
<p>  if (e.target.tagName === &#039;A&#039;) {</p>
<p>    e.preventDefault();</p>
<p>    history.pushState({}, &#039;&#039;, e.target.href);</p>
<p>  }</p>
<p>});</code></pre><p><strong>优点</strong>: </p>
<ul><li>URL 美观，没有 <code>#</code></li></ul>
<ul><li>支持 SEO（配合 SSR）</li></ul>
<ul><li>更符合 RESTful 规范</li></ul><p><strong>缺点</strong>: </p>
<ul><li>需要服务器配置（所有路由返回 index.html）</li></ul>
<ul><li>兼容性稍差（IE10+）</li></ul><h3>路由库</h3>
<ul><li><strong>React Router</strong>: React 生态最流行的路由库</li></ul>
<ul><li><strong>Vue Router</strong>: Vue.js 官方路由管理器</li></ul>
<ul><li><strong>Next.js Router</strong>: Next.js 框架内置的路由系统</li></ul>
<ul><li><strong>Reach Router</strong>: 另一个 React 路由库（已合并到 React Router）</li></ul><h3>路由功能</h3>
<ul><li><strong>嵌套路由</strong>: 支持多级路由嵌套</li></ul>
<ul><li><strong>路由参数</strong>: 动态路由 <code>/user/:id</code></li></ul>
<ul><li><strong>查询参数</strong>: <code>/search?q=keyword</code></li></ul>
<ul><li><strong>路由守卫</strong>: 权限控制、登录验证</li></ul>
<ul><li><strong>懒加载</strong>: 路由级别的代码分割</li></ul>
<ul><li><strong>路由动画</strong>: 页面切换动画</li></ul><h3>实现示例（简单版）</h3>
<pre><code>class Router {</p>
<p>  constructor() {</p>
<p>    this.routes = {};</p>
<p>    this.currentUrl = &#039;&#039;;</p>
<p>    this.init();</p>
<p>  }</p>

<p>  route(path, callback) {</p>
<p>    this.routes[path] = callback;</p>
<p>  }</p>

<p>  init() {</p>
<p>    window.addEventListener(&#039;load&#039;, this.refresh.bind(this));</p>
<p>    window.addEventListener(&#039;hashchange&#039;, this.refresh.bind(this));</p>
<p>  }</p>

<p>  refresh() {</p>
<p>    this.currentUrl = location.hash.slice(1) || &#039;/&#039;;</p>
<p>    this.routes[this.currentUrl] &amp;&amp; this.routes[this.currentUrl]();</p>
<p>  }</p>
<p>}</code></pre>
          </div>
        </div>
      </div>
    </div>
    <script src="知识库.js"></script>
    </body>
    </html>